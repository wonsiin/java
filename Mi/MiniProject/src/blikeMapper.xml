<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="net.scit.dao.BlikeMapper">


<<<<<<< HEAD
	
	<select id="listBlike" resultType="String" parameterType="Blike">
	SELECT * FROM blike
	where  usrid = #{usrid}
	and b_num = #{b_num}
	</select>
	
	
		<select id="getCount" resultType="int" parameterType="Blike">
	select count(*) from blike l, board b
	where b.usrid = l.usrid
	and l.b_num = #{b_num}
		</select>
		
		<insert id="Up" parameterType="Blike">
	INSERT INTO blike
	(l_num,b_num,usrid)
	VALUES 
	(l_num_seq.nextval,#{b_num},#{usrid})
		</insert>
		
		<delete id="De" parameterType="Blike">
		DELETE blike 
		where b_num=#{b_num}
		and usrid = #{usrid}
		</delete>
		
		
=======
	<select id="listBlike" resultType="Blike" parameterType="String">
		select *
		from Blike l,usr u
		where u.usrid = l.usrid
		and l.usrid = #{usrid}
	</select>

	<insert id="Up" parameterType="Blike">
		INSERT INTO Blike
		(l_num,b_num,usrid)
		VALUES
		(l_num_seq.nextval,#{b_num},#{usrid})
	</insert>

	<select id="ifLike" parameterType="map" resultType="Blike">
		SELECT *
		FROM blike
		WHERE usrid = #{usrid}
		AND b_num = #{b_num}
	</select>

	<delete id="deleteLike" parameterType="map">
		DELETE FROM blike
		WHERE
		usrid = #{usrid}
		AND b_num = #{b_num}
	</delete>
	
	<select id="likeCount" parameterType="string" resultType="Integer">
		SELECT COUNT(*)
		FROM blike
		WHERE b_num = #{b_num}
		GROUP BY b_num
	</select>


>>>>>>> e7ef826c93762c37d33a3b1c57ce8b306a7d92e8
</mapper>